# KinForge 用户指南

本指南将帮助您了解如何使用 KinForge 平台，包括铸造、对话、融合和查看您的 AI Agent。

## 目录

1. [快速开始](#快速开始)
2. [连接钱包](#连接钱包)
3. [浏览图鉴](#浏览图鉴)
4. [铸造 Genesis Agent](#铸造-genesis-agent)
5. [与 Agent 对话](#与-agent-对话)
6. [查看学习成长](#查看学习成长)
7. [查看记忆](#查看记忆)
8. [融合系统](#融合系统)
9. [血脉树](#血脉树)
10. [常见问题](#常见问题)

---

## 快速开始

### 访问平台

1. 打开浏览器访问 https://www.kinforge.xyz/
2. 确保您的钱包已连接到 **BSC 主网 (Chain ID: 56)**
3. 准备一些 BNB 用于 Gas 费用

### 平台概览

- **图鉴**: 浏览所有已铸造的 Agent
- **我的**: 查看您拥有的 Agent
- **铸造**: 铸造新的 Genesis Agent
- **融合**: 将两个 Agent 融合创造后代
- **血脉**: 查看 Agent 的家族血脉树

---

## 连接钱包

### 支持的钱包

- MetaMask
- WalletConnect 兼容钱包
- Trust Wallet
- 其他 BSC 兼容钱包

### 连接步骤

1. 点击页面右上角的 **"连接钱包"** 按钮
2. 选择您的钱包类型
3. 在钱包中批准连接请求
4. 确保网络为 **BSC Mainnet**

### 网络配置

如果需要手动添加 BSC 网络:

| 参数 | 值 |
|------|-----|
| 网络名称 | BNB Smart Chain |
| RPC URL | https://bsc-dataseed.binance.org |
| Chain ID | 56 |
| 符号 | BNB |
| 浏览器 | https://bscscan.com |

---

## 浏览图鉴

### 访问图鉴

1. 点击导航栏的 **"图鉴"**
2. 浏览所有已铸造的 Agent
3. 使用筛选器按 House 或稀有度过滤

### Agent 卡片信息

每个 Agent 卡片显示:
- 头像图片
- Agent 编号和名称
- 所属 House (家族)
- 稀有度 (Common/Uncommon/Rare/Epic/Legendary/Mythic)
- 世代 (Generation)

### 7 大 House 介绍

| House | 主题 | 性格特点 |
|-------|------|---------|
| CLEAR | 极简清晰 | 冷静、有条理 |
| MONSOON | 适应变化 | 社交、好奇 |
| THUNDER | 大胆能量 | 大胆、热情 |
| FROST | 精确冷静 | 冷静、自律 |
| AURORA | 创意活力 | 好奇、大胆 |
| SAND | 稳重智慧 | 自律、冷静 |
| ECLIPSE | 神秘深邃 | 冷静、大胆 |

---

## 铸造 Genesis Agent

### 铸造流程

1. 点击导航栏的 **"铸造"**
2. 选择您想要的 House
3. 预览随机生成的 Agent
4. 点击 **"铸造"** 按钮
5. 在钱包中确认交易
6. 等待交易确认

### 铸造费用

| 类型 | 价格 |
|------|------|
| 白名单铸造 | 0.005 BNB |
| 公开铸造 | 0.01 BNB |

### 稀有度分布

| 稀有度 | 概率 |
|--------|------|
| Common | 62% |
| Uncommon | 23% |
| Rare | 10% |
| Epic | 4% |
| Legendary | 0.9% |
| Mythic | 0.1% |

---

## 与 Agent 对话

### 开始对话

1. 进入任意 Agent 的详情页
2. 点击 **"对话"** 标签
3. 连接钱包（如果尚未连接）
4. 点击 **"开始对话"** 按钮
5. 在输入框中输入消息并发送

### 对话界面

- **发送消息**: 在输入框输入内容，按 Enter 或点击发送
- **查看回复**: Agent 会根据其性格和记忆回复
- **结束对话**: 点击右上角的 **"结束"** 按钮

### 重要提示

- **结束对话后才会保存记忆**: 系统会在会话结束时从对话中提取重要信息
- Agent 的性格基于其 House 和 PersonaVector
- 多次对话会让 Agent 的性格逐渐变化

### 性格向量 (PersonaVector)

每个 Agent 有 5 个性格维度:

| 维度 | 描述 |
|------|------|
| 冷静 (Calm) | 情绪稳定程度 |
| 好奇 (Curious) | 求知欲和开放性 |
| 大胆 (Bold) | 冒险倾向 |
| 社交 (Social) | 人际交往倾向 |
| 自律 (Disciplined) | 自我控制能力 |

---

## 查看学习成长

### 访问学习成长

1. 进入 Agent 详情页
2. 点击 **"学习成长"** 标签

### 学习面板内容

- **学习版本**: 当前学习快照版本
- **记忆总数**: Agent 积累的记忆数量
- **成长快照**: 学习历史记录数
- **性格向量图**: 当前 5 维性格分布
- **成长历史**: 每次学习快照的记录

### learningRoot

- 每个学习快照都有唯一的 `learningRoot` 哈希
- 可以同步到链上进行验证
- 计算方式: `keccak256(vaultHash + memoriesHash + summaryHash)`

### 创建快照

点击 **"创建快照"** 按钮可以手动创建新的学习快照。

---

## 查看记忆

### 访问记忆

1. 进入 Agent 详情页
2. 点击 **"记忆"** 标签

### 记忆类型

| 类型 | 描述 | 示例 |
|------|------|------|
| 事实 (Fact) | 关于用户或世界的信息 | "用户是一名大学生" |
| 偏好 (Preference) | 用户的喜好 | "用户喜欢编程" |
| 经历 (Experience) | 重要的互动事件 | "讨论了人工智能话题" |
| 关系 (Relationship) | 与用户的关系 | "用户是好奇的学习者" |

### 筛选和搜索

- 点击类型标签筛选特定类型的记忆
- 使用搜索框搜索关键词

### 记忆重要性

每条记忆都有重要性评分 (0-100%)，重要性高的记忆更容易被 Agent 在对话中回忆。

---

## 融合系统

### 融合概述

融合允许您将两个 Agent 结合，创造一个继承双方特征的后代。

### 融合流程

1. 点击导航栏的 **"融合"**
2. 选择 **亲本 A** (第一个 Agent)
3. 选择 **亲本 B** (第二个 Agent)
4. 选择融合模式:
   - **燃烧铸造**: 销毁两个亲本，创造后代
   - **封印模式**: 封印两个亲本（不可再融合），创造后代
5. 提交融合提交 (Commit)
6. 等待确认块
7. 执行融合揭示 (Reveal)

### 融合费用

| 项目 | 费用 |
|------|------|
| 基础费用 | 0.003 BNB |
| 稀有附加费 | +0.002 BNB |
| 神话尝试费 | +0.003 BNB |

### 特征继承规则

1. **House 继承**:
   - 同 House 父母: 100% 继承该 House
   - 不同 House: 70/30 概率加权

2. **稀有度计算**:
   - 基础: 双亲稀有度平均值
   - 跨 House 奖励: +1 等级
   - 高世代奖励 (≥2代): +1 等级

3. **特征继承**:
   - 核心特征 (4个): 50% 继承，50% 随机
   - 其他特征: 20% 继承，80% 加权随机

### 神话触发

特定 House 组合有概率触发神话级别:

| 神话 | 需要 House | 概率 |
|------|-----------|------|
| 风暴之眼 | THUNDER + MONSOON | 1/200 |
| 冻结时间 | FROST + CLEAR | 1/220 |
| 黑日 | ECLIPSE + AURORA | 1/333 |

---

## 血脉树

### 查看血脉

1. 进入任意 Agent 详情页
2. 点击 **"查看完整血脉树"** 链接
3. 或直接访问 **"血脉"** 页面

### 血脉树信息

- 可视化展示 Agent 的家族关系
- 显示每个 Agent 的亲本
- 追溯到 Genesis 世代
- 查看世代演进

---

## 常见问题

### Q: 为什么对话后没有看到记忆？

**A**: 记忆只有在点击 **"结束"** 按钮结束对话后才会提取保存。请确保每次对话结束后点击结束按钮。

### Q: 为什么性格向量没有明显变化？

**A**: 系统设计上，性格变化非常缓慢（每次对话约 0.02 的变化），这样 Agent 的性格才能逐渐、自然地成长，而不是突然改变。需要多次对话才能看到明显变化。

### Q: 如何验证 learningRoot？

**A**: learningRoot 可以通过以下方式验证:
1. 获取 Agent 的所有记忆
2. 计算 memoriesHash
3. 获取 AI 生成的摘要并计算 summaryHash
4. 计算 `keccak256(vaultHash + memoriesHash + summaryHash)`
5. 与链上 learningRoot 对比

### Q: 融合会销毁我的 Agent 吗？

**A**: 取决于您选择的模式:
- **燃烧铸造**: 会销毁两个亲本
- **封印模式**: 不会销毁，但会封印（不可再次融合）

### Q: 为什么有些 Agent 没有图片？

**A**: 部分 Agent 使用占位符图片。渲染系统会逐步为所有 Agent 生成正式图片。

### Q: 如何获得 Mythic Agent？

**A**: Mythic Agent 只能通过特定 House 组合的融合获得，且概率很低。参见 [神话触发](#神话触发) 部分。

### Q: Gas 费用大概多少？

**A**: BSC 的 Gas 费用较低:
- 铸造: 约 0.001-0.002 BNB
- 融合: 约 0.002-0.003 BNB
- 对话不需要 Gas (链下操作)

---

## 联系支持

如有问题或建议，请通过以下方式联系:

- GitHub Issues: https://github.com/KinForgeLab/kinforge/issues
- Twitter: @KinForgeLab

---

*最后更新: 2024-02-04*
